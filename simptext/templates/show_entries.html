{% extends "layout.html" %}
{% block body %}
<script type=text/javascript>
$(function() {
  $('#editBtn').click(function(){
    $('li').attr('contenteditable','true');
  });

});
</script>
  {% if session.logged_in %}
    <form action="{{ url_for('add_entry') }}" method=post class=add-entry>
      <dl>
        <dt>Input:
        <dd><textarea name=input rows=6 cols=70></textarea>
        {#       
        <dt>Output:
        <dd><textarea name=output rows=5 cols=60></textarea>
        #}
        <dd><input type=submit value=simplify>
      </dl>


    </form>

  {% endif %}
  
<ul class="entries">
  {% if entries %}
     <li><h2>Input:</h2>
     <li>
     {{ entries|safe }}

  {% else %}
     <li><em>No output here so far</em>
  {% endif %}

  <li><h2>Output:<h2></li>
  <li>
   {% for item in outputs %}   
       {% if item is mapping %} {# not change #}
   
        {% for key, value in item.iteritems() %}
         <select>
           {% for v in value %}
             <option value={{ v }} >{{ v |safe}} </option>
           {% endfor %}
         </select>
         
         {% endfor %}

         {% else %}
            {{ item |safe }}
         
       {% endif %}

   {% endfor %}  

  </li>

  <dd><input type=submit id="editBtn" value=edit>

</ul>
  <!--
  <script type="text/javascript">
    $(document).ready(function(){
    
    $("#Simplify").click(function(){

     $.getJSON('/', function(dat){
       console.log("Ajax received data!");
       console.dir(dat);
    });
    
    });

    });
  </script>
  -->
  
 {#
  <ul class="entries">
  {% for entry in entries %}
    <li>{{ entry.output|safe }}
  {% else %}
    <li><em>Unbelievable.  No entries here so far</em>
  {% endfor %}
  </ul>
  #}

{% endblock %}
